<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/3.3.7/css/bootstrap.min.css}" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #4CAF50;
  color: white;
}

.topnav .icon {
  display: none;
}

@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive .icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}
</style>
    <title>late Arrival</title>
    
</head>
<body>
	
<div class="topnav" id="myTopnav">
  <a href="#home" th:href="@{/}">Home</a>
  <a href="#Back"th:href="@{/status}">Back</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>
<div class="container">
<div class="row">
            <div class="col-md-6 col-md-offset-3">
<form th:action="@{/setLate}" th:object="${newLate}" >
		 <div class="form-group">
		 	<h2>Late Arrival</h2>
		 	<br><br>
			<label for="late">Name:</label><br>
			<input type="text"  id="late" name="name" class="autocomplete"><br><br>
			<label for="ltime">Arrival Time:</label><br>
			<input type="time" id="ltime" name="ltime"><br><br>
			<input value="Authorized"  name="subject" class="auth" type="checkbox">Authorized
   			<input value="NonAuthorized" name="subject" class="auth" type="checkbox">Non Authorized 
		</div>
            <button class="btn btn-primary" type="submit">Update</button><br><br>
        </form>
        
        <button class="btn btn-primary" onclick="window.location.href='status'" >Exit</button>
	</div>
	</div>
	</div>
 <script>
 $('.auth').on('change', function() {
	    $('.auth').not(this).prop('checked', false);  
	});

    $( function() {
       
    	  $( ".autocomplete" ).autocomplete({
        	  source: function(request, response ){
        		  console.log("working");
        		  $.ajax({
        			    url: "/statusform",
        			    dataType: "json",
        			    data: {
        			    	firstName: request.term
        			    },
        			    success: function (data) {
        			    	console.log("Successss"+JSON.stringify(data));
        			        response($.map(data, function (item) {
        			        	console.log("Response"+JSON.stringify(item));
        			            return {
        			                label: item.firstName,
        			                value: item.firstName
        			            };
        			        }));
        			    }
        			});
        	  }
        });
        
       
      } );
    function myFunction() {
    	  var x = document.getElementById("myTopnav");
    	  if (x.className === "topnav") {
    	    x.className += " responsive";
    	  } else {
    	    x.className = "topnav";
    	  }
    	}
  </script>
</body>
</html>




